{"version":3,"sources":["components.jsx"],"names":["Page","React","Component","showTip","clearQuery","history","replaceState","location","href","split","reloadPage","replace","render","ReactDOM","createElement","document","getElementById","HeaderTitle","divStyle","background","borderBottom","height","h1Style","fontSize","fontFamily","margin","color","textShadow","cursor","imgStyle","width","props","icon","title","Overlay","position","top","left","pointerEvents","mode","children","LoginDialog","constructor","initialState","login","username","usernameConfirmed","email","emailConfirmed","password","password2","loggingIn","signupMessage","loginMessage","state","performLogin","bind","signUp","loginUsernameBox","passwordChange","clear","setState","self","api","result","success","token","date","Date","days","setTime","getTime","cookie","toGMTString","localStorage","setItem","onLogin","message","signupSuccess","signup","loginChange","e","target","value","usernameChange","emailChange","password2Change","invalidForm","loginPasswordBox","padding","display","loginSection","borderRadius","borderBottomLeftRadius","borderBottomRightRadius","alignItems","justifyContent","marginTop","alignSelf","signupSection","input","usernameInput","prevState","passwordConfirmed","transition","opacity","backgroundColor","onClickOut","toggle","overflow","Button","hidden","flex","pressed","backgroundPressed","disabled","borderLeft","leftMost","borderRight","rightMost","borderTopLeftRadius","borderTopRightRadius","onClick","fontColor","text","ButtonBar","index","buttons","list","map","property","array","prop","length","LoginDialogHeader","Login","loginState","url","initialMode","open","close","canUpdateHistory","window","addEventListener","onUrlChange","refs","loginDialog","pathname","componentDidUpdate","prevProps","pushState","right","flexDirection","Profile","view","logout","handleClickOutside","componentDidMount","componentWillUnmount","removeEventListener","event","node","wrapper","parentNode","profile_pic","getItem","console","log","minWidth"],"mappings":"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","file":"components.js","sourcesContent":["class Page extends React.Component {\n    showTip() {}\n\n    static clearQuery() {\n        history.replaceState({}, 'Dobuki', location.href.split(\"?\")[0]);\n    }\n\n    static reloadPage() {\n        location.replace('');\n    }\n\n    static render() {\n        return ReactDOM.render(React.createElement(this, null), document.getElementById('root'));\n    }\n}\n\nclass HeaderTitle extends React.Component {\n    render() {\n        const divStyle = {\n            background: 'linear-gradient(white, silver)',\n            borderBottom: '1px solid gray',\n            height: 50,\n        };\n\n        const h1Style = {\n            fontSize: 32,\n            fontFamily: \"'Fredoka One', cursive\",\n            margin: 0,\n            color: '#012',\n            textShadow: '1px 1px 0 #FFF',\n            cursor: 'pointer',\n        };\n\n        const imgStyle = {\n            width: 50,\n            height: 50,\n            cursor: 'pointer',\n        };\n\n        return (\n            <div style={divStyle} className=\"header\">\n                <img style={imgStyle} src={this.props.icon} onClick={Page.reloadPage}/>\n                <h1 style={h1Style} onClick={Page.reloadPage}>{this.props.title}</h1>\n            </div>\n        );\n    }\n}\n\nclass Overlay extends React.Component {\n    render() {\n        return <div style={{\n            position: 'absolute',\n            top: 0, left: 0,\n            width: '100%', height: '100%',\n            pointerEvents: this.props.mode ? '' : 'none',\n        }}>\n            { this.props.children }\n        </div>\n    }\n}\n\nclass LoginDialog extends React.Component {\n    constructor(props) {\n        super(props);\n        this.initialState = {\n            login: null,\n            username: null,\n            usernameConfirmed: false,\n            email: null,\n            emailConfirmed: false,\n            password: null,\n            password2: null,\n            loggingIn: false,\n            signupMessage: null,\n            loginMessage: null,\n        };\n        this.state = this.initialState;\n        this.performLogin = this.performLogin.bind(this);\n        this.signUp = this.signUp.bind(this);\n        this.loginUsernameBox = this.loginUsernameBox.bind(this);\n        this.passwordChange = this.passwordChange.bind(this);\n    }\n\n    clear() {\n        this.setState(this.initialState);\n    }\n\n    performLogin() {\n        const self = this;\n        if (!this.state.loggingIn) {\n            this.setState({\n                loggingIn: true,\n            });\n            api.login(this.state.login, this.state.password || '', function(result) {\n                if(result.success) {\n                    if(result.token) {\n                        const username = self.state.login;\n                        const token = result.token;\n                        const date = new Date();\n                        const days = 1;\n                        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n\n                        document.cookie = `username=${username}; expires=${date.toGMTString()}`;\n                        document.cookie = `token=${token}; expires=${date.toGMTString()}`;\n\n                        localStorage.setItem('username', username);\n                        localStorage.setItem('token', token);\n                        self.props.onLogin();\n                    } else {\n                        self.setState({\n                            login: result.username,\n                            username: result.username,\n                            usernameConfirmed: true,\n                            loggingIn: false,\n                            loginMessage: '',\n                        });\n                    }\n                } else {\n                    self.setState({\n                        loggingIn: false,\n                        loginMessage: result.message,\n                    });\n                }\n            });\n        }\n    }\n\n    signupSuccess() {\n        this.setState({\n            signupMessage: `\n                Thank you for signing up. Please check ${this.state.email}\n                for a confirmation email.\n            `,\n        });\n    }\n\n    signUp() {\n        if (!this.state.loggingIn) {\n            this.setState({\n                loggingIn: true,\n            });\n            api.signup(\n                this.state.username,\n                this.state.email,\n                this.state.password,\n                this.signupSuccess.bind(this),\n            );\n        }\n    }\n\n    loginChange(e) {\n        this.setState({\n            login: e.target.value,\n        });\n    }\n\n    usernameChange(e) {\n        this.setState({\n            username: e.target.value,\n        });\n    }\n\n    emailChange(e) {\n        this.setState({\n            email: e.target.value,\n        });\n    }\n\n    passwordChange(e) {\n        this.setState({\n            password: e.target.value,\n        });\n    }\n\n    password2Change(e) {\n        this.setState({\n            password2: e.target.value,\n        });\n    }\n\n    invalidForm(state) {\n        return !state.username || !state.email || !state.password || state.password2 !== state.password;\n    }\n\n    loginPasswordBox() {\n        const fontFamily = \"'Concert One', cursive\";\n        return [\n            <div style={{ height: 20 }}/>,\n            <div\n                className=\"confirmed-input\"\n                style={{\n                    fontFamily,\n                    fontSize: 20,\n                    height: 40,\n                    padding: 8,\n                    display: this.state.usernameConfirmed ? '' : 'none',\n                }}\n                onClick={(() => { this.setState({ usernameConfirmed: false }); }).bind(this)}\n            >{ this.state.username }</div>,\n            <input\n                type=\"password\"\n                placeholder=\"Enter your password\"\n                className=\"input\"\n                onChange={this.passwordChange.bind(this)}\n                disabled={this.state.loggingIn}\n                value={this.state.password}\n                style={{\n                    height: 40,\n                    width: '100%',\n                }}/>,\n            <div style={{ height: 20 }}/>,\n            <div style={{\n                display: 'flex',\n                height: 50,\n                width: '70%',\n            }}>\n                <Button\n                    text=\"login\"\n                    leftMost rightMost\n                    onClick={this.performLogin}\n                    fontSize=\"24\"\n                    fontColor=\"#333\"\n                    background=\"linear-gradient(#59f79d, #2c6846)\"\n                    backgroundPressed=\"#a3e2bf\"\n                    pressed={this.state.loggingIn}\n                    disabled={!this.state.password}\n                />\n            </div>,\n        ];\n    }\n\n    loginUsernameBox() {\n        return [\n            <div style={{ height: 20 }}/>,\n            <input type=\"text\"\n                placeholder=\"Enter your username or email\"\n                className=\"input\"\n                onChange={this.loginChange.bind(this)}\n                disabled={this.state.loggingIn}\n                value={this.state.login}\n                style={{\n                    height: 40,\n                    width: '100%',\n                }}/>,\n            <div style={{ height: 20 }}/>,\n            <div style={{\n                display: 'flex',\n                height: 50,\n                width: '70%',\n            }}>\n                <Button text=\"next\"\n                    leftMost rightMost\n                    onClick={this.performLogin}\n                    fontSize=\"24\"\n                    fontColor=\"#333\"\n                    background=\"linear-gradient(#59f79d, #2c6846)\"\n                    backgroundPressed=\"#a3e2bf\"\n                    pressed={this.state.loggingIn}\n                    disabled={!this.state.login}\n                />\n            </div>,\n        ];\n    }\n\n    loginSection() {\n        const borderRadius = 8;\n        const fontFamily = \"'Concert One', cursive\";\n        return (<div style={{\n            width: '100%',\n            height: 'auto',\n            borderBottomLeftRadius: borderRadius,\n            borderBottomRightRadius: borderRadius,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n        }}>\n            <div className=\"loginsection\">\n                { this.state.usernameConfirmed ? this.loginPasswordBox() : this.loginUsernameBox() }\n                <div style={{\n                    display: 'flex',\n                    marginTop: 20,\n                    alignItems: 'center', alignSelf: 'center', justifyContent: 'center',\n                    'width': 50, 'height': 50,\n                }}>\n                    <div className={\n                        `tux-loading-indicator ${this.state.loggingIn?'show':''}`\n                    }>\n                    </div>\n                </div>\n                { this.state.loginMessage &&  <div style={{\n                        fontFamily,\n                        fontSize: 20,\n                        padding: 20,\n                    }}>\n                        { this.state.loginMessage }\n                    </div>\n                }\n            </div>\n        </div>);\n    }\n\n    signupSection() {\n        const borderRadius = 8;\n        const fontFamily = \"'Concert One', cursive\";\n        return (this.state.signupMessage ?\n            <div style={{\n                fontFamily,\n                fontSize: 20,\n                padding: 20,\n            }}>\n                { this.state.signupMessage }\n            </div> :\n            <div style={{\n            width: '100%',\n            height: 'auto',\n            borderBottomLeftRadius: borderRadius,\n            borderBottomRightRadius: borderRadius,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n        }}>\n            <div className=\"loginsection\">\n                <div style={{ height: 20 }}/>\n                <input\n                    ref={(input) => { this.usernameInput = input; }}\n                    placeholder=\"Enter a username\"\n                    className=\"input\"\n                    onChange={this.usernameChange.bind(this)}\n                    onBlur={(() => { this.setState((prevState) => {\n                        return { usernameConfirmed: prevState.username }});\n                    }).bind(this)}\n                    disabled={this.state.loggingIn}\n                    value={this.state.username}\n                    style={{\n                        height: 40,\n                        width: '100%',\n                        display: this.state.usernameConfirmed ? 'none' : '',\n                    }}/>\n                <div\n                    className=\"confirmed-input\"\n                    style={{\n                        height: 40,\n                        padding: 8,\n                        display: this.state.usernameConfirmed ? '' : 'none',\n                    }}\n                     onClick={(() => { this.setState({ usernameConfirmed: false }); }).bind(this)}\n                ><b>Username:</b> { this.state.username }</div>\n                <div style={{ height: 20 }}/>\n                <input type=\"email\"\n                    placeholder=\"Enter an email\"\n                    className=\"input\"\n                    onChange={this.emailChange.bind(this)}\n                    onBlur={(() => { this.setState((prevState) => { return { emailConfirmed: prevState.email }}); }).bind(this)}\n                    disabled={this.state.loggingIn}\n                    value={this.state.email}\n                    style={{\n                        height: 40,\n                        width: '100%',\n                        display: this.state.emailConfirmed ? 'none' : '',\n                    }}/>\n                <div\n                    className=\"confirmed-input\"\n                    style={{\n                        height: 40,\n                        padding: 8,\n                        display: this.state.emailConfirmed ? '' : 'none',\n                    }}\n                     onClick={(() => { this.setState({ emailConfirmed: false }); }).bind(this)}\n                ><b>Email:</b> { this.state.email }</div>\n                <div style={{ height: 20 }}/>\n                <input type=\"password\"\n                       placeholder=\"Enter a password\"\n                       className=\"input\"\n                       onChange={this.passwordChange.bind(this)}\n                       onBlur={(() => { this.setState({ passwordConfirmed: true }); }).bind(this)}\n                       onFocus={(() => { this.setState({ passwordConfirmed: false }); }).bind(this)}\n                       disabled={this.state.loggingIn}\n                       value={this.state.password}\n                       style={{\n                           height: 40,\n                           width: '100%',\n                           color: this.state.passwordConfirmed && this.state.password !== this.state.password2 ?\n                               'red' : 'black'\n                       }}/>\n                <div style={{ height: 20 }}/>\n                <input type=\"password\"\n                       placeholder=\"Retype password\"\n                       className=\"input\"\n                       onChange={this.password2Change.bind(this)}\n                       disabled={this.state.loggingIn}\n                       value={this.state.password2}\n                       style={{\n                           height: 40,\n                           width: '100%',\n                       }}/>\n                {!this.state.loggingIn && [\n                    <div style={{ height: 20 }}/>,\n                    <div style={{\n                        display: 'flex',\n                        height: 50,\n                        width: '70%',\n                    }}>\n                        <Button\n                            text=\"sign up\"\n                            leftMost rightMost\n                            onClick={this.signUp}\n                            fontSize=\"24\"\n                            fontColor=\"#333\"\n                            background=\"linear-gradient(#59f79d, #2c6846)\"\n                            backgroundPressed=\"#a3e2bf\"\n                            pressed={this.state.loggingIn}\n                            disabled={this.invalidForm(this.state)}\n                        >\n                            <i right/>\n                        </Button>\n                    </div>\n                ]}\n                <div style={{\n                    display: 'flex',\n                    marginTop: 20,\n                    alignItems: 'center', alignSelf: 'center', justifyContent: 'center',\n                    'width': 50, 'height': 50,\n                }}>\n                    <div className={\n                        `tux-loading-indicator ${this.state.loggingIn?'show':''}`\n                    }>\n                    </div>\n                </div>\n            </div>\n        </div>);\n    }\n\n    render() {\n        const borderRadius = 8;\n        return (\n            <div>\n                <Overlay mode={this.props.mode}>\n                { this.props.mode &&\n                    <div className={'overlay'}>\n                        <div style={{\n                            position: 'fixed',\n                            top: 0, left: 0,\n                            width: '100%', height: '100%',\n                            transition: 'opacity .2s linear',\n                            opacity: this.props.mode ? .8: 0,\n                            backgroundColor: '#002',\n                            cursor: 'pointer',\n                            display: this.props.mode ? '' : 'none',\n                        }} onClick={this.props.onClickOut}>\n                        </div>\n                        <div className={'popdialog'}>\n                            <LoginDialogHeader toggle={this.props.toggle} mode={this.props.mode} />\n                            <div style={{ width: '100%', overflow: 'hidden' }}>\n                                { this.props.mode==='login' && this.loginSection() }\n                                { this.props.mode==='signup' && this.signupSection() }\n                            </div>\n                        </div>\n                    </div>\n                }\n                </Overlay>\n            </div>\n        );\n    }\n}\n\nclass Button extends React.Component {\n    render() {\n        const borderRadius = 8;\n        const fontFamily = \"'Concert One', cursive\";\n        return (!this.props.hidden && <div style={{\n            flex: 1,\n            transition: '.2s',\n            background: this.props.pressed\n                ? this.props.backgroundPressed || '#444466'\n                : this.props.disabled\n                ? 'linear-gradient(white, silver)'\n                : this.props.background || 'linear-gradient(white, gray)',\n            borderLeft: this.props.leftMost ? 0 : '1px solid gray',\n            borderRight: this.props.rightMost ? 0 : '1px solid gray',\n            borderTopLeftRadius: this.props.leftMost ? borderRadius : 0,\n            borderBottomLeftRadius: this.props.leftMost ? borderRadius : 0,\n            borderTopRightRadius: this.props.rightMost ? borderRadius : 0,\n            borderBottomRightRadius: this.props.rightMost ? borderRadius : 0,\n            fontFamily,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            cursor: 'pointer',\n            pointerEvents: this.props.pressed ? 'none' : '',\n        }} onClick={this.props.disabled?null:this.props.onClick}>\n            <div style={{\n                fontSize: this.props.fontSize || 20,\n                color: this.props.pressed ? 'snow'\n                    : this.props.disabled ? 'silver'\n                    : this.props.fontColor || '#666677',\n            }}>\n                {this.props.text}\n            </div>\n        </div>);\n    }\n}\n\nclass ButtonBar extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onClick = this.onClick.bind(this);\n    }\n\n    onClick(index) {\n        this.props.onClick(index);\n    }\n\n    render() {\n        const self = this;\n        const buttons = this.props.list.map((property, index, array) => {\n            const prop = typeof(property)==='string' ? { text:property } : property;\n            return (\n                <Button\n                    pressed={self.props.pressed===index}\n                    onClick={prop.onClick ? prop.onClick : () => { self.onClick(index); }}\n                    text={prop.text}\n                    leftMost={index===0}\n                    rightMost={index===array.length-1}\n                />\n            )\n        });\n        return (<div style={{\n            display: 'flex',\n            height: 50,\n            width: 'calc(100% - 100px)',\n        }}>\n            { buttons }\n        </div>);\n    }\n}\n\nclass LoginDialogHeader extends React.Component {\n    render() {\n        const borderRadius = 8;\n        const fontFamily = \"'Concert One', cursive\";\n        return <div style={{\n            width: '100%',\n            height: 100,\n            borderTopLeftRadius: borderRadius,\n            borderTopRightRadius: borderRadius,\n            background: 'linear-gradient(white, silver)',\n            borderBottom: '1px solid gray',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n        }}>\n            <ButtonBar list={[ 'login', 'signup' ]} onClick={this.props.toggle}\n               pressed={this.props.mode==='login' ? 0 : 1}\n            />\n        </div>\n    }\n}\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            mode: this.constructor.loginState(props.url),\n            initialMode: this.constructor.loginState(props.url) || 'login',\n        };\n        this.open = this.open.bind(this);\n        this.close = this.close.bind(this);\n        this.toggle = this.toggle.bind(this);\n        this.onLogin = this.onLogin.bind(this);\n        this.canUpdateHistory = true;\n        window.addEventListener('popstate', this.onUrlChange.bind(this));\n    }\n\n    static loginState(url) {\n        return url==='/login' ? 'login' : url==='/signup' ? 'signup' : '';\n    }\n\n    open() {\n        this.setState((prevState) => ({\n            mode: prevState.initialMode,\n        }));\n    }\n\n    close() {\n        this.setState((prevState) => ({\n            initialMode: prevState.mode,\n            mode: null,\n        }));\n        this.refs.loginDialog.clear();\n    }\n\n    onLogin() {\n        this.close();\n        this.props.onLogin();\n    }\n\n    toggle() {\n        this.setState((prevState, props) => ({\n            mode: prevState.mode === 'login' ? 'signup' : 'login',\n        }));\n    }\n\n    onUrlChange() {\n        const mode = this.constructor.loginState(location.pathname);\n        if (mode !== this.state.mode) {\n            this.canUpdateHistory = false;\n            this.setState({ mode });\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.mode !== this.state.mode) {\n            if (!this.canUpdateHistory) {\n                this.canUpdateHistory = true;\n            } else {\n                history.pushState(\n                    {mode: this.state.mode},\n                    this.state.mode || 'Dobuki',\n                    `/${this.state.mode || ''}`\n                );\n            }\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"button\" onClick={this.open} style={{\n                    position: 'absolute',\n                    top: 0, right: 0,\n                    margin: '0 8px',\n                    width: 50, height: 50,\n                    display: 'flex',\n                    flexDirection: 'column',\n                    alignItems: 'center',\n                }}>\n                    <div style={{ fontFamily: \"'Concert One', cursive\" }}>login</div>\n                    <img style={{ width: 32, height: 32 }} src=\"/assets/signin.svg\" />\n                </div>\n                <LoginDialog ref=\"loginDialog\"\n                    mode={this.state.mode}\n                    onClickOut={this.close}\n                    toggle={this.toggle}\n                    onLogin={this.onLogin}\n                />\n            </div>\n        );\n    }\n}\n\nclass Profile extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            view: false,\n        };\n        this.open = this.open.bind(this);\n        this.close = this.close.bind(this);\n        this.logout = this.logout.bind(this);\n        this.handleClickOutside = this.handleClickOutside.bind(this);\n    }\n\n    componentDidMount() {\n        document.addEventListener('mousedown', this.handleClickOutside);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleClickOutside);\n    }\n\n    handleClickOutside(event) {\n        let node = event.target;\n        while(node) {\n            if(node===this.refs.wrapper) {\n                return;\n            }\n            node = node.parentNode;\n        }\n        this.close();\n    }\n    profile_pic() {\n        return `/profile/${this.props.username}/image.png`;\n    }\n\n    open() {\n        this.setState((prevState) => ({\n            view: !prevState.view,\n        }));\n    }\n\n    close() {\n        this.setState({\n            view: false,\n        });\n    }\n\n    logout() {\n        const username = localStorage.getItem('username');\n        const token = localStorage.getItem('token');\n        console.log(username, token);\n        api.logout(username, token, function(result) {\n            console.log(result);\n        });\n    }\n\n    render() {\n        return (\n            <div ref=\"wrapper\">\n                <div className=\"button\" onClick={this.open} style={{\n                    position: 'absolute',\n                    top: 0, right: 0,\n                    padding: '0 8px',\n                    height: 50,\n                    display: 'flex',\n                    flexDirection: 'row',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                }}>\n                    <div style={{\n                        fontFamily: \"'Concert One', cursive\",\n                        fontSize: 16,\n                    }}>\n                        { this.props.username }\n                    </div>\n                    <img style={{ width: 40, height: 40, margin: '0 0 0 8px' }} src={ this.profile_pic() } />\n                </div>\n                { this.state.view &&\n                    <div style={{\n                        position: 'absolute',\n                        backgroundColor: '#555',\n                        minWidth: 150,\n                        right: 0,\n                    }}>\n                        <div className=\"menu\" onMouseDown={this.logout}>\n                            <div style={{ fontFamily: \"'Concert One', cursive\" }}>Log out</div>\n                        </div>\n                    </div>\n                }\n            </div>\n        );\n    }\n}"]}