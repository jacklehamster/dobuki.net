{"version":3,"sources":["components.jsx"],"names":["Page","React","Component","render","ReactDOM","createElement","document","getElementById","HeaderTitle","reloadPage","location","replace","divStyle","display","flexDirection","alignContent","alignItems","justifyContent","background","borderBottom","height","h1Style","fontSize","fontFamily","margin","color","textShadow","cursor","imgStyle","width","props","icon","title","LoginDialog","constructor","onClickOut","toggle","borderRadius","position","top","left","pointerEvents","mode","transition","opacity","backgroundColor","maxHeight","maxWidth","zIndex","borderTopLeftRadius","borderTopRightRadius","flex","borderRight","borderBottomLeftRadius","borderLeft","borderBottomRightRadius","Login","state","loginState","url","login","bind","close","canUpdateHistory","window","addEventListener","onUrlChange","e","setState","prevState","pathname","componentDidUpdate","prevProps","history","pushState","right","Card"],"mappings":"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","file":"components.js","sourcesContent":["class Page extends React.Component {\n    static render() {\n        ReactDOM.render(React.createElement(this, null), document.getElementById('root'));\n    }\n}\n\nclass HeaderTitle extends React.Component {\n    reloadPage() {\n        location.replace('');\n    }\n\n    render() {\n        const divStyle = {\n            display: 'flex',\n            flexDirection: 'row',\n            alignContent: 'center',\n            alignItems: 'center',\n            justifyContent: 'center',\n            background: 'linear-gradient(white, silver)',\n            borderBottom: '1px solid gray',\n            height: 50,\n        };\n\n        const h1Style = {\n            fontSize: 32,\n            fontFamily: \"'Fredoka One', cursive\",\n            margin: 0,\n            color: '#012',\n            textShadow: '1px 1px 0 #FFF',\n            cursor: 'pointer',\n        };\n\n        const imgStyle = {\n            width: 50,\n            height: 50,\n            cursor: 'pointer',\n        };\n\n        return (\n            <div style={divStyle}>\n                <img style={imgStyle} src={this.props.icon} onClick={this.reloadPage}/>\n                <h1 style={h1Style} onClick={this.reloadPage}>{this.props.title}</h1>\n            </div>)\n                ;\n    }\n}\n\nclass LoginDialog extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onClickOut = props.onClickOut;\n        this.toggle = props.toggle;\n    }\n\n    render() {\n        const borderRadius = 8;\n        const fontFamily = \"'Concert One', cursive\";\n        return (\n            <div style={{\n                position: 'absolute',\n                top: 0, left: 0,\n                width: '100%', height: '100%',\n                pointerEvents: this.props.mode ? '' : 'none',\n            }}>\n                <div style={{\n                    width: '100%',\n                    height: '100%',\n                    transition: 'opacity .2s linear',\n                    opacity: this.props.mode ? .8: 0,\n                    backgroundColor: '#000022',\n                    position: 'absolute',\n                    cursor: 'pointer',\n                }} onClick={this.onClickOut}>\n                </div>\n                { this.props.mode &&\n                    <div style={{\n                        width: '100vw',\n                        height: '100vw',\n                        maxHeight: '100vh',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                    }}>\n                        <div style={{\n                            width: 500, height: 500,\n                            maxWidth: 'calc(100% - 20px)',\n                            maxHeight: 'calc(100% - 20px)',\n                            borderRadius,\n                            backgroundColor: 'snow',\n                            zIndex: 1,\n                        }}>\n                            <div style={{\n                                width: '100%',\n                                height: 100,\n                                borderTopLeftRadius: borderRadius,\n                                borderTopRightRadius: borderRadius,\n                                background: 'linear-gradient(white, silver)',\n                                borderBottom: '1px solid gray',\n                                display: 'flex',\n                                alignItems: 'center',\n                                justifyContent: 'center',\n                            }}>\n                                <div style={{\n                                    display: 'flex',\n                                    height: 50,\n                                    width: 'calc(100% - 100px)',\n                                }}>\n                                    <div style={{\n                                        flex: 1,\n                                        transition: '.2s',\n                                        background: this.props.mode==='login'\n                                            ? '#444466' : 'linear-gradient(white, gray)',\n                                        borderRight: '1px solid gray',\n                                        borderTopLeftRadius: borderRadius,\n                                        borderBottomLeftRadius: borderRadius,\n                                        fontFamily,\n                                        display: 'flex',\n                                        alignItems: 'center',\n                                        justifyContent: 'center',\n                                        cursor: 'pointer',\n                                        pointerEvents: this.props.mode === 'login' ? 'none' : '',\n                                    }} onClick={this.toggle}>\n                                        <div style={{\n                                            fontSize: 20,\n                                            color: this.props.mode==='login' ? 'snow' : '#666677',\n                                        }}>\n                                            login\n                                        </div>\n                                    </div>\n                                    <div style={{\n                                        flex: 1,\n                                        transition: '.2s',\n                                        background: this.props.mode==='signup'\n                                            ? '#444466' : 'linear-gradient(white, gray)',\n                                        borderLeft: '1px solid gray',\n                                        borderTopRightRadius: borderRadius,\n                                        borderBottomRightRadius: borderRadius,\n                                        fontFamily,\n                                        display: 'flex',\n                                        alignItems: 'center',\n                                        justifyContent: 'center',\n                                        cursor: 'pointer',\n                                        pointerEvents: this.props.mode === 'signup' ? 'none' : '',\n                                    }} onClick={this.toggle}>\n                                        <div style={{\n                                            fontSize: 20,\n                                            color: this.props.mode==='signup' ? 'snow' : '#666677',\n                                        }}>\n                                            sign up\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { mode: this.constructor.loginState(props.url) };\n        this.login = this.login.bind(this);\n        this.close = this.close.bind(this);\n        this.toggle = this.toggle.bind(this);\n        this.canUpdateHistory = true;\n        window.addEventListener('popstate', this.onUrlChange.bind(this));\n    }\n\n    static loginState(url) {\n        return url==='/login' ?'login'\n            :url==='/signup' ?'signup'\n            :''\n    }\n\n    login(e) {\n        this.setState({\n            mode: 'login',\n        });\n    }\n\n    close(e) {\n        this.setState({\n            mode: null,\n        });\n    }\n\n    toggle() {\n        this.setState((prevState, props) => ({\n            mode: prevState.mode === 'login' ? 'signup' : 'login',\n        }));\n    }\n\n    onUrlChange() {\n        const mode = this.constructor.loginState(location.pathname);\n        if (mode !== this.state.mode) {\n            this.canUpdateHistory = false;\n            this.setState({ mode });\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.mode !== this.state.mode) {\n            if (!this.canUpdateHistory) {\n                this.canUpdateHistory = true;\n            } else {\n                history.pushState({mode: this.state.mode}, this.state.mode || 'Dobuki', `/${this.state.mode || ''}`);\n            }\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"button\" onClick={this.login} style={{\n                    position: 'absolute',\n                    top: 0, right: 0,\n                    margin: '0 8px',\n                    width: 50, height: 50,\n                    display: 'flex',\n                    flexDirection: 'column',\n                    alignItems: 'center',\n                }}>\n                    <div style={{ fontFamily: \"'Concert One', cursive\" }}>login</div>\n                    <img style={{ width: 32, height: 32 }} src=\"/assets/signin.svg\"/>\n                </div>\n                <LoginDialog mode={this.state.mode}\n                     onClickOut={this.close}\n                     toggle={this.toggle}\n                />\n            </div>\n        );\n    }\n}\n\nclass Card extends React.Component {\n\n}"]}